<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui">

  <h:head>
    <title>Lançamentos</title>
  </h:head>

  <h:body>
  
  	<ui:include src="menu.xhtml" />
	
	<b:messages id="msg" infoStyle="color:green;font-size:18px;"/>
	
  	<b:form id="formLancamento" style="margin-left: 35px; margin-top:15px;"> 

	  	<h4 style="margin-left: 30px;">Cadastro de Lançamentos</h4>
  		
  		<b:panelGrid columns="1" col-lg="6">
  			<b:panel>
	   	  	 	<h:outputLabel value="ID:" />
	   	  	 	<b:inputText id="id" value="#{lancamentoBean.lancamento.id}" readonly="true"/>
	   	  	 	
	   	  	 	<h:outputLabel value="Nota:" />
	   	  	 	<b:inputText id="nota" value="#{lancamentoBean.lancamento.numeroNotaFiscal}" required="true" requiredMessage="Informe número da Nota!" />
	   	  	 	<b:message for="nota" error-style="color:red;" />
	   	  	 	
	   	  	 	<h:outputLabel value="Origem:" />
	   	  	 	<b:inputText id="origem" value="#{lancamentoBean.lancamento.empresaOrigem}" required="true" requiredMessage="Informe a Origem!" />
	 	  	 	<b:message for="origem" error-style="color:red;" />
	   	  	 	
	   	  	 	<h:outputLabel value="Destino:" />
	   	  	 	<b:inputText id="destino" value="#{lancamentoBean.lancamento.empresaDestino}" required="true" requiredMessage="Informe o Destino!" />
		   	  	<b:message for="destino" error-style="color:red;" />
		   	  
		   	  
	  	  		<h:panelGroup style="margin-top: 5px;">
		  	    	<b:commandButton action="#{lancamentoBean.novo}" value="Novo" look="primary" />
	  	    		<b:commandButton action="#{lancamentoBean.salvar}" value="Salvar" style="margin-left: 10px;" look="success" />
	  	    		<b:commandButton action="#{lancamentoBean.delete}" value="Excluir" style="margin-left: 10px;" rendered="#{pessoaBean.allowAccess('ADMINISTRADOR')}" look="danger" />
	  	    		<b:commandButton value="Limpar" type="reset" style="margin-left: 10px;" look="warning" />
	  	  		</h:panelGroup>
	  	  		<h:outputLabel/>
  	  		</b:panel>
  		</b:panelGrid>
  	</b:form>
  	
  	<b:form id="formTableLancamento" style="margin-left: 35px; margin-top:15px;">
  	
  		<b:dataTable value="#{lancamentoBean.lancamentos}" var="lancamento" border="2" cellpadding="3" style="margin-top: 10px;" col-lg="11">
	   	  
	   	  	<f:facet name="header"><h:outputText value="Lista de lançamentos"/></f:facet>
	   	  	
	   	  	<h:column>
	   	  		<f:facet name="header">ID</f:facet>
	   	  		<h:outputText value="#{lancamento.id}" />
	   	  	</h:column>

	   	  	<h:column>
	   	  		<f:facet name="header">Nota</f:facet>
	   	  		<h:outputText value="#{lancamento.numeroNotaFiscal}" />
	   	  	</h:column>

	   	  	<h:column>
	   	  		<f:facet name="header" style="margin-left: 15px;">Origem</f:facet>
	   	  		<h:outputText value="#{lancamento.empresaOrigem}" />
	   	  	</h:column>
	   	  	
	   	  	<h:column>
	   	  		<f:facet name="header" style="margin-left: 15px;">Destino</f:facet>
	   	  		<h:outputText value="#{lancamento.empresaDestino}" />
	   	  	</h:column>
	   	  	
	   	  	<h:column>
	   	  		<f:facet name="header">Editar</f:facet>
	   	  		<h:commandLink title="Editar">
	   	  			<h:graphicImage value="resources/images/editPencil.png" />
	   	  			<f:setPropertyActionListener target="#{lancamentoBean.lancamento}" value="#{lancamento}"/>
	   	  		</h:commandLink>
	   	  	</h:column>

	   	  	<h:column rendered="#{pessoaBean.allowAccess('ADMINISTRADOR')}">	
	   	  		<f:facet name="header">Ecluir</f:facet>
	   	  		<h:commandButton action="#{lancamentoBean.delete}" image="resources/images/remove.png" title="Excluir">
	   	  			<f:setPropertyActionListener target="#{lancamentoBean.lancamento}" value="#{lancamento}" />
	   	  		</h:commandButton>
	  	  	</h:column>
	  	  	
	   	  </b:dataTable>
   	  
  	</b:form>
  	
  </h:body>
  
</html>